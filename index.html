<!doctype html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex justify-center items-center min-h-screen">

<div class="bg-white p-6 rounded-2xl shadow-lg w-full max-w-md">
  <h1 class="text-xl font-semibold mb-4 text-center">üìã ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</h1>

  <form id="deviceForm" class="space-y-3">
    <input type="text" name="name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå" required class="w-full p-2 border rounded">
    <input type="text" name="type" placeholder="‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó" required class="w-full p-2 border rounded">
    <input type="text" name="model" placeholder="‡∏£‡∏∏‡πà‡∏ô" required class="w-full p-2 border rounded">
    <input type="text" name="brand" placeholder="‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠" required class="w-full p-2 border rounded">
    <input type="text" name="status" placeholder="‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (‡πÄ‡∏ä‡πà‡∏ô ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô/‡πÄ‡∏™‡∏µ‡∏¢/‡∏£‡∏≠‡∏ã‡πà‡∏≠‡∏°)" required class="w-full p-2 border rounded">
    <input type="text" name="serial" placeholder="Serial Number" required class="w-full p-2 border rounded">

    <label class="block text-gray-700 font-medium mt-2">üì∑ ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</label>
    <input type="file" id="photo" accept="image/*" capture="camera" class="w-full p-2 border rounded bg-gray-50">

    <button type="submit" class="w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
  </form>

  <p id="result" class="text-center text-green-600 font-medium mt-3"></p>
</div>

<script>
document.getElementById("deviceForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  
  const form = e.target;
  const result = document.getElementById("result");

  const formData = new FormData(form);
  const photoFile = document.getElementById("photo").files[0];
  if (photoFile) {
    formData.append("photo", photoFile);
  }

  result.textContent = "‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î...";

  try {
    const response = await fetch("https://script.google.com/macros/s/AKfycbw4gD03Duh5Ck30kG7CjXNAjnHZuKSl0_S6IW7XEdcGy1vzVtHpti3iCCoCvq6JmSBw9A/exec", {
      method: "POST",
      body: formData,
    });

    const text = await response.text();
    result.textContent = "‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!";
    form.reset();
  } catch (error) {
    console.error(error);
    result.textContent = "‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å";
  }
});
</script>
</body>
</html>
